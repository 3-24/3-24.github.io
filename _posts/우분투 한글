---
layout: single
title: Ubuntu 18.04 한글 입력 설정
classes: wide
cataegories:
- Linux
tags:
- ubuntu 18.04
- uim
toc: true
---

## uim 패키지 설정
Ubuntu 18.04에서 기본으로 지원하는 입력기는 iBus인데, 한글 입력이 잘 되지 않아서 여러 다른 입력기를 시도했는데 uim이 가장 안정적이다.
```console
sudo apt install uim
```
검색을 통해 언어 지원(Language Support)를 열어 언어(language) 탭에 키보드 입력기를 iBus에서 uim으로 바꾼다.

## 한글, 한자 키맵
키보드의 한영키를 우분투에서는 기본적으로 Alt로 인식한다. 따라서 한/영키로 바꿔줄 수 있는데 방법은 크게 다음 **세 가지**가 있다. 가장 쉽고 추천하는 방법은 첫 번째의 gnome-tweak-tool를 이용한 방법이다.

### gnome-tweak-tool

현재 우분투가 사용하고 있는 gnome이라는 데스크탑 환경의 테마를 변경할 때 주로 사용하는 패키지이다.
```console
sudo apt install gnome-tweak-tool
```
설치가 되면 Tweaks를 열어 Keyboard & Mouse 탭 - Additional Layout Options - Korean Hangul/Hanja Keys - Right Alt as Hangul, right Ctrl as Hanja 체크박스를 활성화해주고 모두 닫는다.

### altwin

```console
$ sudo vim /usr/share/X11/xkb/symbols/altwin
```

에서 `symbols[Group1] = [ Alt_R, Meta_R ]`의 값을 다음과 같이 `Hangul`로 바꿔준다:

```cs
// Meta is mapped to second level of Alt.
partial modifier_keys
xkb_symbols "meta_alt" {
    key <LALT> { [ Alt_L, Meta_L ] };
    key <RALT> { type[Group1] = "TWO_LEVEL",
                 symbols[Group1] = [ Hangul ] };
    modifier_map Mod1 { Alt_L, Alt_R, Meta_L, Meta_R };
//  modifier_map Mod4 {};
};
```



### xmodmap 
```bash
xmodmap -e 'remove mod1 = Alt_R'
xmodmap -e 'keycode 108 = Hangul'

xmodmap -e 'remove control = Control_R'
xmodmap -e 'keycode 105 = Hangul_Hanja'

xmodmap -pke > ~/.Xmodmap
```
를 순서대로 터미널에 입력한다. 문제는 이 설정이 재부팅을 했을 때 유지가 되지 않는다는 점이다. 적어도 필자의 환경에서는 그랬다. 이를 해결하기 위해서는
```console
vim ~/.xinitrc
```
(vim이 없다면 다른 텍스트 에디터를 사용해도 무관하다) 를 열어
```bash
xmodmap .Xmodmap
```

를 끝에 추가해주면 부팅할때마다 저장된 Xmodmap을 불러올 수 있다.

###

## uim 설정