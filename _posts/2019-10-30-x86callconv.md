---
title: 리눅스 x86 호출규약
layout: single
classes: wide
categories:
- 정보보안
- pwnable
---

32비트 리눅스의 호출 규약Calling Convention에 대해서 알아보자.

* 스택 메모리에서 서브루틴은 호출자의 아래쪽으로 생성된다.
* %ebp 위에 함수의 return address가 있고, 그 위에 인자argument가 쌓여있다.


## 예
```c
int add(int a, int b){
    return a+b;
}

int main(){
    int a,b,c;
    a = 3;
    b = 7;
    c = a + b;
    return 0;
}
```

를 다음과 같이 32비트 컴파일을 하고 gdb로 확인해보자.

```bash
gcc -m32 add.c -o add
gdb add
```

add를 실행하는 과정을 쪼개서 그림으로 표현하면 다음과 같다:

<link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">
<script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
<style>
.swiper-slide{
display:flex;
justify-content:center;
}
</style>
<div class="swiper-container">
<div class="swiper-wrapper">

<!-- slide 1  -->
<div class="swiper-slide">
{% include_relative x86_calling_convention/slide00.html %}
</div>

<div class="swiper-slide">
{% include_relative x86_calling_convention/slide01.html %}
</div>

<div class="swiper-slide">
{% include_relative x86_calling_convention/slide02.html %}
</div>




</div>
<div class="swiper-pagination"></div>
</div>

<script>
new Swiper('.swiper-container',{
pagination : {
	el: '.swiper-pagination',
	type:'progressbar',
}
});
</script>



